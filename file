def show_skills_screen():
    skills_opened = True
    global dialogue_order
    gun_used = 0
    while skills_opened:
        pygame.draw.rect(screen, white, gun_button)
        pygame.draw.rect(screen, white, lizard_punch_button)
        pygame.draw.rect(screen, white, magic_punch_button)
        pygame.draw.rect(screen, white, heal_hp_button)
        screen.blit(skills_image, (0, 0))
        pygame.display.flip()
        clock.tick(60)
        for event in pygame.event.get():
            if event.type == pygame.QUIT:
                pygame.quit()
                exit()
            if event.type == pygame.MOUSEBUTTONDOWN:
                if skill_button.collidepoint(event.pos) or items_button.collidepoint(event.pos) or flee_button.collidepoint(event.pos):
                    skills_opened = False
                if gun_button.collidepoint(event.pos):
                    skills_opened = False
                    gun_used = 1
                if magic_punch_button.collidepoint(event.pos):
                    skills_opened = False
                    magic_punch_used = 1
                if heal_hp_button.collidepoint(event.pos):
                    skills_opened = False
                    heal_hp_used = 1

    while gun_used == 1:
        mechanics.use_gun()
        pygame.display.update()
        dialogue_order = 6
        battle_dialogue()
        mechanics.monster_attack()
        dialogue_order = 4
        battle_dialogue()
        gun_used = 0
        pygame.display.update()
    
    while magic_punch_used == 1:
        mechanics.magic_punch()
        pygame.display.update()
        dialogue_order = 8
        battle_dialogue()
        mechanics.monster_attack()
        dialogue_order = 4
        battle_dialogue()
        magic_punch_used = 0 
        pygame.display.update()

    while heal_hp_used == 1:
        mechanics.heal_hp
        pygame.display.update()
        dialogue_order = 10
        battle_dialogue()
        mechanics.monster_attack()
        dialogue_order = 4
        battle_dialogue()
        heal_hp_used = 0
        pygame.display.update()

def battle_dialogue():
    global dialogue_order
    dialogueBox = pygame.Rect(135, 300, 440, 100)
    dialogueBoxOutline = pygame.Rect(130, 295, 450, 110)
    if dialogue_order == 1:
        pygame.draw.rect(screen, black, dialogueBoxOutline)
        pygame.draw.rect(screen, white, dialogueBox)
        dialogue_text = font.render("You encountered a mutant!", True, black)
        text_rect = dialogue_text.get_rect(center=(dialogueBox.x + dialogueBox.width / 2, dialogueBox.y + dialogueBox.height / 2))
        screen.blit(dialogue_text, text_rect.topleft)
        pygame.display.flip()
        pygame.time.wait(2000)
        dialogue_order += 1

    if dialogue_order == 2:
        pygame.draw.rect(screen, black, dialogueBoxOutline)
        pygame.draw.rect(screen, white, dialogueBox)
        dialogue_text = font.render("What do you want to do?", True, black)
        text_rect = dialogue_text.get_rect(center=(dialogueBox.x + dialogueBox.width / 2, dialogueBox.y + dialogueBox.height / 2))
        screen.blit(dialogue_text, text_rect.topleft)
        pygame.display.flip()
        pygame.time.wait(2000)
        dialogue_order += 1

    if dialogue_order == 4:
        pygame.draw.rect(screen, black, dialogueBoxOutline)
        pygame.draw.rect(screen, white, dialogueBox)
        dialogue_text = font.render("The mutant punched you", True, black)
        text_rect = dialogue_text.get_rect(center=(dialogueBox.x + dialogueBox.width / 2, dialogueBox.y + dialogueBox.height / 2))
        screen.blit(dialogue_text, text_rect.topleft)
        pygame.display.flip()
        pygame.time.wait(2000)
        dialogue_order += 1

    if dialogue_order == 6:
        pygame.draw.rect(screen, black, dialogueBoxOutline)
        pygame.draw.rect(screen, white, dialogueBox)
        dialogue_text = font.render("You used your gun!", True, black)
        text_rect = dialogue_text.get_rect(center=(dialogueBox.x + dialogueBox.width / 2, dialogueBox.y + dialogueBox.height / 2))
        screen.blit(dialogue_text, text_rect.topleft)
        pygame.display.flip()
        pygame.time.wait(2000)
        dialogue_order += 1
    
    if dialogue_order == 8:
        pygame.draw.rect(screen, black, dialogueBoxOutline)
        pygame.draw.rect(screen, white, dialogueBox)
        dialogue_text = font.render("You used magic punch!", True, black)
        text_rect = dialogue_text.get_rect(center=(dialogueBox.x + dialogueBox.width / 2, dialogueBox.y + dialogueBox.height / 2))
        screen.blit(dialogue_text, text_rect.topleft)
        pygame.display.flip()
        pygame.time.wait(2000)
        dialogue_order += 1

    if dialogue_order == 10:
        pygame.draw.rect(screen, black, dialogueBoxOutline)
        pygame.draw.rect(screen, white, dialogueBox)
        dialogue_text = font.render("You used heal hp!", True, black)
        text_rect = dialogue_text.get_rect(center=(dialogueBox.x + dialogueBox.width / 2, dialogueBox.y + dialogueBox.height / 2))
        screen.blit(dialogue_text, text_rect.topleft)
        pygame.display.flip()
        pygame.time.wait(2000)
        dialogue_order += 1